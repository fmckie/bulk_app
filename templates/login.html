{% extends "base.html" %}

{% block title %}Login - Kinobody Tracker{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <h1 class="auth-title">Welcome Back</h1>
        <p class="auth-subtitle">Sign in to your Kinobody account</p>
        
        <!-- Login Form -->
        <form id="loginForm" class="auth-form">
            <div class="form-group">
                <label for="email">Email</label>
                <input 
                    type="email" 
                    id="email" 
                    name="email" 
                    class="form-control" 
                    placeholder="your@email.com"
                    required
                    autocomplete="email"
                >
                <span class="error-message" id="emailError"></span>
            </div>
            
            <div class="form-group">
                <label for="password">Password</label>
                <input 
                    type="password" 
                    id="password" 
                    name="password" 
                    class="form-control" 
                    placeholder="Enter your password"
                    required
                    autocomplete="current-password"
                >
                <span class="error-message" id="passwordError"></span>
            </div>
            
            <div class="form-group checkbox-group">
                <label class="checkbox-label">
                    <input type="checkbox" id="rememberMe" name="rememberMe">
                    <span>Remember me</span>
                </label>
                <a href="{{ url_for('password_reset') }}" class="forgot-link">Forgot password?</a>
            </div>
            
            <button type="submit" class="btn btn-primary btn-block" id="loginButton">
                <span class="button-text">Sign In</span>
                <span class="button-loader" style="display: none;">
                    <i class="fas fa-spinner fa-spin"></i>
                </span>
            </button>
        </form>
        
        <!-- OAuth Options -->
        <div class="oauth-divider">
            <span>Or continue with</span>
        </div>
        
        <div class="oauth-buttons">
            <button type="button" class="btn btn-oauth btn-google" onclick="handleOAuthLogin('google')">
                <i class="fab fa-google"></i>
                <span>Google</span>
            </button>
            <button type="button" class="btn btn-oauth btn-github" onclick="handleOAuthLogin('github')">
                <i class="fab fa-github"></i>
                <span>GitHub</span>
            </button>
        </div>
        
        <!-- Sign Up Link -->
        <div class="auth-footer">
            <p>Don't have an account? <a href="{{ url_for('register') }}">Sign up</a></p>
        </div>
        
        <!-- Error/Success Messages -->
        <div id="alertContainer"></div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
{% endblock %}